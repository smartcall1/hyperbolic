#!/bin/bash

cat << "EOF"

    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—      â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—
    â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ–ˆâ–ˆâ•”â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆ   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘
    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ•â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘
    â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•     â•šâ•â• â•šâ•â•â•â•â•â•  â•šâ•â•â•â•â• â•šâ•â•
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              ğŸ¤– MADE BY DONEMOJI, https://x.com/d0nemoji ğŸ¤–
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EOF

# í…ìŠ¤íŠ¸ ìƒ‰ìƒ
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[0;33m'
BLUE='\033[0;34m'
PURPLE='\033[0;35m'
CYAN='\033[0;36m'
NC='\033[0m' # ìƒ‰ìƒ ì´ˆê¸°í™”

# ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
declare -a BACKGROUND_PIDS=()

# í”„ë¡œì„¸ìŠ¤ ì •ë¦¬ í•¨ìˆ˜
cleanup() {
    echo -e "\n${YELLOW}ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¢…ë£Œí•©ë‹ˆë‹¤. ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì •ë¦¬í•©ë‹ˆë‹¤...${NC}"
    
    # ëª¨ë“  ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
    for pid in "${BACKGROUND_PIDS[@]}"; do
        if ps -p $pid > /dev/null; then
            echo -e "${BLUE}í”„ë¡œì„¸ìŠ¤ $pid ì¢…ë£Œ ì¤‘...${NC}"
            kill $pid 2>/dev/null || kill -9 $pid 2>/dev/null
        fi
    done
    
    echo -e "${GREEN}ëª¨ë“  ë°±ê·¸ë¼ìš´ë“œ í”„ë¡œì„¸ìŠ¤ê°€ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.${NC}"
    exit 0
}

# ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ ì‹œ cleanup í•¨ìˆ˜ ì‹¤í–‰
trap cleanup SIGINT SIGTERM EXIT

# í•„ìˆ˜ íŒ¨í‚¤ì§€ ì„¤ì¹˜ í™•ì¸ ë° ì„¤ì¹˜
check_and_install_packages() {
    local packages=("curl" "jq")
    for pkg in "${packages[@]}"; do
        if ! command -v $pkg &> /dev/null; then
            echo -e "${YELLOW}$pkg ì„¤ì¹˜ ì¤‘...${NC}"
            sudo apt update
            sudo apt install -y $pkg
        fi
    done
}

# API ì„¤ì •
HYPERBOLIC_API_URL="https://api.hyperbolic.xyz/v1/chat/completions"
MODEL="meta-llama/Llama-3.3-70B-Instruct"
MAX_TOKENS=2048
TEMPERATURE=0.7
TOP_P=0.9

# API ì‘ë‹µ ê°€ì ¸ì˜¤ê¸° í•¨ìˆ˜
get_response() {
    local question="$1"
    local api_key="$2"
    
    curl -s -X POST "$HYPERBOLIC_API_URL" \
        -H "Content-Type: application/json" \
        -H "Authorization: Bearer $api_key" \
        -d "{
            \"messages\": [{\"role\": \"user\", \"content\": \"$question\"}],
            \"model\": \"$MODEL\",
            \"max_tokens\": $MAX_TOKENS,
            \"temperature\": $TEMPERATURE,
            \"top_p\": $TOP_P
        }" | jq -r '.choices[0].message.content'
}

# ë©”ì¸ ë´‡ í•¨ìˆ˜
run_bot() {
    local api_key="$1"
    local questions_file="$2"
    local delay="$3"
    local bot_id="$4"
    local status_file="$5"
    
    if [ ! -f "$questions_file" ]; then
        echo -e "${RED}ì˜¤ë¥˜: $questions_file íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.${NC}"
        echo "status=error" > "$status_file"
        return 1
    fi
    
    # ì§ˆë¬¸ ë°°ì—´ë¡œ ì½ê¸°
    mapfile -t questions < "$questions_file"
    
    if [ ${#questions[@]} -eq 0 ]; then
        echo -e "${RED}ì˜¤ë¥˜: ì§ˆë¬¸ íŒŒì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.${NC}"
        echo "status=error" > "$status_file"
        return 1
    fi
    
    # ìƒíƒœ íŒŒì¼ ì´ˆê¸°í™”
    echo "status=running" > "$status_file"
    echo "current_question=0" >> "$status_file"
    echo "total_questions=${#questions[@]}" >> "$status_file"
    echo "last_update=$(date +%s)" >> "$status_file"
    
    local index=0
    while true; do
        local question="${questions[$index]}"
        echo -e "${CYAN}ì§ˆë¬¸ #$((index+1)): $question${NC}"
        
        # ìƒíƒœ íŒŒì¼ ì—…ë°ì´íŠ¸
        echo "current_question=$((index+1))" > "$status_file"
        echo "status=running" >> "$status_file"
        echo "total_questions=${#questions[@]}" >> "$status_file"
        echo "last_update=$(date +%s)" >> "$status_file"
        echo "current_question_text=$question" >> "$status_file"
        
        local answer=$(get_response "$question" "$api_key")
        if [ $? -eq 0 ]; then
            echo -e "${GREEN}ì‘ë‹µ: $answer${NC}"
            echo "last_response=success" >> "$status_file"
        else
            echo -e "${RED}ì˜¤ë¥˜: ì§ˆë¬¸ì— ëŒ€í•œ ì‘ë‹µì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.${NC}"
            echo "last_response=error" >> "$status_file"
        fi
        
        index=$((index + 1))
        if [ $index -ge ${#questions[@]} ]; then
            index=0
        fi
        
        echo -e "${YELLOW}ë‹¤ìŒ ì§ˆë¬¸ê¹Œì§€ ${delay}ì´ˆ ëŒ€ê¸°í•©ë‹ˆë‹¤.${NC}"
        echo "next_question_delay=$delay" >> "$status_file"
        sleep $delay
    done
}

# ìƒíƒœ ëª¨ë‹ˆí„°ë§ í•¨ìˆ˜
monitor_bots() {
    local status_dir="$1"
    local api_keys_file="$2"
    
    # API í‚¤ ë°°ì—´ë¡œ ì½ê¸°
    mapfile -t api_keys < "$api_keys_file"
    local api_count=${#api_keys[@]}
    
    # í™”ë©´ ì§€ìš°ê¸°
    clear
    
    # ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë£¨í”„
    while true; do
        # í™”ë©´ ì§€ìš°ê¸°
        clear
        
        # í˜„ì¬ ì‹œê°„ í‘œì‹œ
        echo -e "${PURPLE}===== ë´‡ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ($(date)) =====${NC}"
        echo ""
        
        # ê° ë´‡ì˜ ìƒíƒœ í™•ì¸
        local all_running=true
        
        for i in $(seq 1 $api_count); do
            local status_file="$status_dir/bot$i.status"
            local api_key="${api_keys[$i-1]}"
            local masked_key="${api_key: -4}"
            
            echo -e "${BLUE}API í‚¤ (ëìë¦¬: ${masked_key}) - ë´‡ #$i${NC}"
            
            if [ -f "$status_file" ]; then
                # ìƒíƒœ íŒŒì¼ì—ì„œ ì •ë³´ ì½ê¸°
                local status=$(grep "status=" "$status_file" | cut -d= -f2)
                local current_question=$(grep "current_question=" "$status_file" | cut -d= -f2)
                local total_questions=$(grep "total_questions=" "$status_file" | cut -d= -f2)
                local last_update=$(grep "last_update=" "$status_file" | cut -d= -f2)
                local current_time=$(date +%s)
                local time_diff=$((current_time - last_update))
                
                # ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ ë©”ì‹œì§€ í‘œì‹œ
                if [ "$status" = "running" ]; then
                    if [ $time_diff -gt 300 ]; then
                        echo -e "${RED}ìƒíƒœ: ì‘ë‹µ ì—†ìŒ (${time_diff}ì´ˆ ê²½ê³¼)${NC}"
                        all_running=false
                    else
                        echo -e "${GREEN}ìƒíƒœ: ì‹¤í–‰ ì¤‘${NC}"
                    fi
                elif [ "$status" = "error" ]; then
                    echo -e "${RED}ìƒíƒœ: ì˜¤ë¥˜ ë°œìƒ${NC}"
                    all_running=false
                else
                    echo -e "${YELLOW}ìƒíƒœ: ì•Œ ìˆ˜ ì—†ìŒ${NC}"
                    all_running=false
                fi
                
                # í˜„ì¬ ì§ˆë¬¸ ì •ë³´ í‘œì‹œ
                if [ -n "$current_question" ] && [ -n "$total_questions" ]; then
                    echo -e "ì§„í–‰ ìƒí™©: $current_question / $total_questions ì§ˆë¬¸"
                    
                    # í˜„ì¬ ì§ˆë¬¸ í…ìŠ¤íŠ¸ í‘œì‹œ (ìˆëŠ” ê²½ìš°)
                    if grep -q "current_question_text=" "$status_file"; then
                        local question_text=$(grep "current_question_text=" "$status_file" | cut -d= -f2-)
                        echo -e "í˜„ì¬ ì§ˆë¬¸: $question_text"
                    fi
                fi
                
                # ë§ˆì§€ë§‰ ì‘ë‹µ ìƒíƒœ í‘œì‹œ
                if grep -q "last_response=" "$status_file"; then
                    local last_response=$(grep "last_response=" "$status_file" | cut -d= -f2)
                    if [ "$last_response" = "success" ]; then
                        echo -e "ë§ˆì§€ë§‰ ì‘ë‹µ: ${GREEN}ì„±ê³µ${NC}"
                    else
                        echo -e "ë§ˆì§€ë§‰ ì‘ë‹µ: ${RED}ì‹¤íŒ¨${NC}"
                    fi
                fi
                
                # ë‹¤ìŒ ì§ˆë¬¸ê¹Œì§€ ëŒ€ê¸° ì‹œê°„ í‘œì‹œ
                if grep -q "next_question_delay=" "$status_file"; then
                    local delay=$(grep "next_question_delay=" "$status_file" | cut -d= -f2)
                    echo -e "ë‹¤ìŒ ì§ˆë¬¸ê¹Œì§€: ${YELLOW}${delay}ì´ˆ${NC}"
                fi
            else
                echo -e "${RED}ìƒíƒœ: ìƒíƒœ íŒŒì¼ ì—†ìŒ${NC}"
                all_running=false
            fi
            
            echo ""
        done
        
        # ëª¨ë“  ë´‡ì´ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
        if [ "$all_running" = "true" ]; then
            echo -e "${GREEN}ëª¨ë“  ë´‡ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.${NC}"
        else
            echo -e "${YELLOW}ì¼ë¶€ ë´‡ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.${NC}"
        fi
        
        echo -e "${PURPLE}===== ëª¨ë‹ˆí„°ë§ ì¤‘... (ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+Cë¥¼ ëˆ„ë¥´ì„¸ìš”) =====${NC}"
        
        # 5ì´ˆë§ˆë‹¤ ìƒíƒœ ì—…ë°ì´íŠ¸
        sleep 5
    done
}

# ì—¬ëŸ¬ API í‚¤ë¡œ ë´‡ ì‹¤í–‰ í•¨ìˆ˜
run_multiple_bots() {
    local api_keys_file="$1"
    local questions_dir="$2"
    
    if [ ! -f "$api_keys_file" ]; then
        echo -e "${RED}ì˜¤ë¥˜: API í‚¤ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.${NC}"
        return 1
    fi
    
    # API í‚¤ ë°°ì—´ë¡œ ì½ê¸°
    mapfile -t api_keys < "$api_keys_file"
    
    if [ ${#api_keys[@]} -eq 0 ]; then
        echo -e "${RED}ì˜¤ë¥˜: API í‚¤ íŒŒì¼ì´ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.${NC}"
        return 1
    fi
    
    # ìƒíƒœ ë””ë ‰í† ë¦¬ ìƒì„±
    local status_dir="$HOME/hyperbolic/status"
    mkdir -p "$status_dir"
    
    # ì´ì „ ìƒíƒœ íŒŒì¼ ì •ë¦¬
    rm -f "$status_dir"/*.status
    
    # ëª¨ë“  API í‚¤ì— ëŒ€í•´ ë™ì¼í•œ ëœë¤ ì§€ì—° ì‹œê°„ ìƒì„± (5ë¶„~30ë¶„)
    local delay=$((RANDOM % 1501 + 300))
    echo -e "${PURPLE}ëª¨ë“  API í‚¤ì— ëŒ€í•´ ${delay}ì´ˆì˜ ë™ì¼í•œ ì§€ì—° ì‹œê°„ì´ ì„¤ì •ë˜ì—ˆìŠµë‹ˆë‹¤.${NC}"
    
    # ê° API í‚¤ì— ëŒ€í•´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë´‡ ì‹¤í–‰
    for i in "${!api_keys[@]}"; do
        local api_key="${api_keys[$i]}"
        local question_file="$questions_dir/question$((i+1)).txt"
        local bot_id=$((i+1))
        local status_file="$status_dir/bot$bot_id.status"
        
        # API í‚¤ì˜ ë§ˆì§€ë§‰ 4ìë¦¬ë§Œ í‘œì‹œí•˜ì—¬ ë³´ì•ˆ ìœ ì§€
        local masked_key="${api_key: -4}"
        echo -e "${BLUE}API í‚¤ (ëìë¦¬: ${masked_key})ì— ëŒ€í•œ ë´‡ì„ ì‹œì‘í•©ë‹ˆë‹¤...${NC}"
        echo -e "${BLUE}ì§ˆë¬¸ íŒŒì¼: $question_file${NC}"
        
        run_bot "$api_key" "$question_file" "$delay" "$bot_id" "$status_file" &
        BACKGROUND_PIDS+=($!)
    done
    
    echo -e "${GREEN}ëª¨ë“  ë´‡ì´ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤.${NC}"
    echo -e "${YELLOW}ìƒíƒœ ëª¨ë‹ˆí„°ë§ì„ ì‹œì‘í•©ë‹ˆë‹¤...${NC}"
    
    # ìƒíƒœ ëª¨ë‹ˆí„°ë§ ì‹œì‘
    monitor_bots "$status_dir" "$api_keys_file"
}

# ë©”ë‰´
echo -e "${YELLOW}ì›í•˜ëŠ” ì‘ì—…ì„ ì„ íƒí•˜ì„¸ìš”:${NC}"
echo -e "${CYAN}1) ë´‡ ì„¤ì¹˜${NC}"
echo -e "${CYAN}2) ë´‡ ì‹¤í–‰${NC}"
echo -e "${CYAN}3) ë´‡ ì‚­ì œ${NC}"
echo -e "${CYAN}4) ë´‡ ìƒíƒœ í™•ì¸${NC}"

echo -e "${YELLOW}ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:${NC} "
read choice

case $choice in
    1)
        echo -e "${BLUE}ë´‡ì„ ì„¤ì¹˜í•˜ëŠ” ì¤‘...${NC}"
        check_and_install_packages
        
        # í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ìƒì„±
        PROJECT_DIR="$HOME/hyperbolic"
        mkdir -p "$PROJECT_DIR"
        mkdir -p "$PROJECT_DIR/questions"
        mkdir -p "$PROJECT_DIR/status"
        cd "$PROJECT_DIR" || exit 1
        
        # API í‚¤ ì…ë ¥
        echo -e "${YELLOW}Hyperbolic API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì—¬ëŸ¬ ê°œ ì…ë ¥ ê°€ëŠ¥, ë¹ˆ ì¤„ë¡œ ì¢…ë£Œ):${NC}"
        echo -e "${YELLOW}ê° API í‚¤ë¥¼ ìƒˆ ì¤„ì— ì…ë ¥í•˜ì„¸ìš”. ì…ë ¥ì´ ëë‚˜ë©´ ë¹ˆ ì¤„ì„ ì…ë ¥í•˜ì„¸ìš”.${NC}"
        
        # API í‚¤ë¥¼ ì„ì‹œ íŒŒì¼ì— ì €ì¥
        temp_file=$(mktemp)
        while true; do
            read -p "API í‚¤: " api_key
            if [ -z "$api_key" ]; then
                break
            fi
            echo "$api_key" >> "$temp_file"
        done
        
        # API í‚¤ê°€ í•˜ë‚˜ ì´ìƒ ì…ë ¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
        if [ ! -s "$temp_file" ]; then
            echo -e "${RED}ì˜¤ë¥˜: ìµœì†Œ í•˜ë‚˜ì˜ API í‚¤ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.${NC}"
            rm "$temp_file"
            exit 1
        fi
        
        # API í‚¤ë¥¼ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— ì €ì¥
        mv "$temp_file" "$PROJECT_DIR/api_keys.txt"
        
        # API í‚¤ ê°œìˆ˜ í™•ì¸
        api_count=$(wc -l < "$PROJECT_DIR/api_keys.txt")
        echo -e "${GREEN}ì´ $api_countê°œì˜ API í‚¤ê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.${NC}"
        
        # ê° API í‚¤ë§ˆë‹¤ ë‹¤ë¥¸ ì§ˆë¬¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
        echo -e "${YELLOW}ê° API í‚¤ë§ˆë‹¤ ë‹¤ë¥¸ ì§ˆë¬¸ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•©ë‹ˆë‹¤...${NC}"
        
        for i in $(seq 1 $api_count); do
            echo -e "${BLUE}ì§ˆë¬¸ íŒŒì¼ $i ë‹¤ìš´ë¡œë“œ ì¤‘...${NC}"
            QUESTIONS_URL="https://raw.githubusercontent.com/smartcall1/hyperbolic/refs/heads/main/question$i.txt"
            curl -fsSL -o "$PROJECT_DIR/questions/question$i.txt" "$QUESTIONS_URL"
            
            # íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
            if [ ! -s "$PROJECT_DIR/questions/question$i.txt" ]; then
                echo -e "${RED}ê²½ê³ : question$i.txt íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê¸°ë³¸ ì§ˆë¬¸ íŒŒì¼ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.${NC}"
                # ê¸°ë³¸ ì§ˆë¬¸ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
                QUESTIONS_URL="https://raw.githubusercontent.com/smartcall1/hyperbolic/refs/heads/main/question.txt"
                curl -fsSL -o "$PROJECT_DIR/questions/question$i.txt" "$QUESTIONS_URL"
            fi
        done
        
        echo -e "${GREEN}ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!${NC}"
        ;;
        
    2)
        echo -e "${BLUE}ë´‡ì„ ì‹¤í–‰í•˜ëŠ” ì¤‘...${NC}"
        PROJECT_DIR="$HOME/hyperbolic"
        
        if [ ! -f "$PROJECT_DIR/api_keys.txt" ]; then
            echo -e "${RED}ì˜¤ë¥˜: API í‚¤ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ë´‡ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.${NC}"
            exit 1
        fi
        
        run_multiple_bots "$PROJECT_DIR/api_keys.txt" "$PROJECT_DIR/questions"
        ;;
        
    3)
        echo -e "${BLUE}ë´‡ì„ ì‚­ì œí•˜ëŠ” ì¤‘...${NC}"
        rm -rf "$HOME/hyperbolic"
        echo -e "${GREEN}ë´‡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.${NC}"
        ;;
        
    4)
        echo -e "${BLUE}ë´‡ ìƒíƒœë¥¼ í™•ì¸í•˜ëŠ” ì¤‘...${NC}"
        PROJECT_DIR="$HOME/hyperbolic"
        
        if [ ! -f "$PROJECT_DIR/api_keys.txt" ]; then
            echo -e "${RED}ì˜¤ë¥˜: API í‚¤ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ë´‡ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.${NC}"
            exit 1
        fi
        
        # ìƒíƒœ ëª¨ë‹ˆí„°ë§ ì‹œì‘
        monitor_bots "$PROJECT_DIR/status" "$PROJECT_DIR/api_keys.txt"
        ;;
        
    *)
        echo -e "${RED}ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤.${NC}"
        exit 1
        ;;
esac